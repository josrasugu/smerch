{"ast":null,"code":"import { SystConfig } from '../../config/syst';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"searchBtnEl\"];\nconst _c1 = [\"response\"];\n\nfunction SearchComponent_div_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_18_div_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const asset_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.assetSelected(asset_r5.asset_contract.address, asset_r5.token_id);\n    });\n    i0.ɵɵelementStart(1, \"div\", 18)(2, \"div\", 19);\n    i0.ɵɵelement(3, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 21)(5, \"span\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"span\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"slice\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const asset_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", asset_r5.image_preview_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"#\", asset_r5.token_id.length > 6 ? i0.ɵɵpipeBind3(7, 3, asset_r5.token_id, 0, 6) + \"..\" : asset_r5.token_id, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(asset_r5.name.length > 20 ? i0.ɵɵpipeBind3(11, 7, asset_r5.name, 0, 20) + \"..\" : asset_r5.name);\n  }\n}\n\nfunction SearchComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 1);\n    i0.ɵɵtemplate(2, SearchComponent_div_18_div_2_Template, 12, 11, \"div\", 16);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.serverData == null ? null : ctx_r2.serverData.assets);\n  }\n}\n\nfunction SearchComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 1)(2, \"div\", 24);\n    i0.ɵɵelement(3, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 25)(5, \"h2\", 26);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 1)(9, \"div\", 27)(10, \"div\", 28)(11, \"span\", 29);\n    i0.ɵɵtext(12, \"BACKGROUND\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 30);\n    i0.ɵɵtext(14, \"Green (8.79%)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 28)(16, \"span\", 29);\n    i0.ɵɵtext(17, \"SKIN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\", 30);\n    i0.ɵɵtext(19, \"Gargoyle Purple (9.02%)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 28)(21, \"span\", 29);\n    i0.ɵɵtext(22, \"EYES\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\", 30);\n    i0.ɵɵtext(24, \"Chinese (9.7%)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 28)(26, \"span\", 29);\n    i0.ɵɵtext(27, \"NECK\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\", 30);\n    i0.ɵɵtext(29, \"Gold Chain (10.03%)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 28)(31, \"span\", 29);\n    i0.ɵɵtext(32, \"HEAD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"p\", 30);\n    i0.ɵɵtext(34, \"None (67.76%)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 28)(36, \"span\", 29);\n    i0.ɵɵtext(37, \"MOUTH\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\", 30);\n    i0.ɵɵtext(39, \"Poison (6.43%)\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(40, \"p\");\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_19_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.printProducts(ctx_r8.asset.asset_contract.address, ctx_r8.asset.token_id);\n    });\n    i0.ɵɵelement(43, \"img\", 32);\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"br\")(46, \"br\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.asset.image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r3.asset.name, \" #\", ctx_r3.asset.token_id.length > 6 ? i0.ɵɵpipeBind3(7, 7, ctx_r3.asset.token_id, 0, 6) + \"..\" : ctx_r3.asset.token_id, \"\");\n    i0.ɵɵadvance(35);\n    i0.ɵɵtextInterpolate(ctx_r3.asset.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.asset.collection.payment_tokens[0].image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r3.asset.collection.payment_tokens[0].eth_price, \" \", ctx_r3.asset.collection.payment_tokens[0].symbol, \"\");\n  }\n}\n/*export class AppComponent implements AfterViewInit {\r\n\r\n  @ViewChild(\"myDiv\") divView: ElementRef;\r\n\r\n  ngAfterViewInit(){\r\n\r\n    console.log(this.divView);\r\n    this.divView.nativeElement.innerHTML = \"Hello Angular 10!\";\r\n\r\n  }\r\n}*/\n\n\nexport let SearchComponent = /*#__PURE__*/(() => {\n  class SearchComponent {\n    constructor(http, rt, el, elementRef) {\n      this.http = http;\n      this.rt = rt;\n      this.el = el;\n      this.elementRef = elementRef;\n      this.title = 'smerch-front';\n      this.apiUrl = SystConfig.apiUrl;\n      this.assetsView = true;\n      this.assetView = false;\n      this.searchForm = new FormGroup({\n        contractAddress: new FormControl('')\n      });\n    }\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {// console.log(\"Initialised after view\");\n      // this.searchBtnEl.nativeElement.style.backgroundColor = \"blue\"; \n      // this.searchBtnEl.nativeElement.innerHTML = \"<span class='fa fa-bed fa-spin'></span>\"; \n      // this.searchBtn = this.searchBtnEl.nativeElement;\n    }\n\n    fetchAssets(contractAddress) {\n      this.searchBtnEl.nativeElement.style.width = \"200px\";\n      this.searchBtnEl.nativeElement.innerHTML = \"<span style='font-size: 36px' class='fa fa-spinner fa-spin'></span>\";\n      this.responseEl.nativeElement.className = \"\";\n      this.responseEl.nativeElement.innerHTML = \"\";\n      this.assetsView = true;\n      this.assetView = false;\n      this.getContractAssets(contractAddress).subscribe(val => {\n        this.serverData = val; // console.log(this.serverData);\n\n        this.searchBtnEl.nativeElement.style.width = \"\";\n        this.searchBtnEl.nativeElement.innerHTML = \"Search contract\";\n      }, response => {\n        // response\n        this.responseEl.nativeElement.className = \"alert alert-danger\";\n        this.responseEl.nativeElement.innerHTML = \"No items found\";\n        this.searchBtnEl.nativeElement.innerHTML = \"Search contract\";\n      }, () => {// console.log(\"The observable is now completed.\");\n      });\n    } // 0x381748c76f2b8871afbbe4578781cd24df34ae0d\n    // 0x7dca125b1e805dc88814aed7ccc810f677d3e1db\n    // 0x911910e4ecc5eef8c1b35cac7c2e159bfa88db59\n    // 0x88b48f654c30e99bc2e4a1559b4dcf1ad93fa656\n    // 0x86249f2e44b044a2c2303ef3bd17e0840fb5f03b\n\n\n    getContractAssets(contractAddress) {\n      var data = this.http.get(this.apiUrl + '/assets?asset_contract_address=' + contractAddress);\n      return data;\n    }\n\n    getAsset(contractAddress, id) {\n      var data = this.http.get(this.apiUrl + '/asset/' + contractAddress + '/' + id);\n      return data;\n    }\n\n    assetSelected(contractAddress, id) {\n      // console.log(contractAddress, id);\n      this.getAsset(contractAddress, id).subscribe(val => {\n        this.asset = val;\n        console.log(this.asset);\n        this.assetsView = false;\n        this.assetView = true;\n      }, response => {}, () => {// console.log(\"The observable is now completed.\");\n      });\n    }\n\n    contractAssets() {\n      var items = this.searchForm.value;\n      this.serverData = {};\n      this.fetchAssets(items.contractAddress);\n    }\n\n    printProducts(address, token_id) {\n      this.rt.navigate(['/products/' + address + '/' + token_id]);\n    }\n\n  }\n\n  SearchComponent.ɵfac = function SearchComponent_Factory(t) {\n    return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n\n  SearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchComponent,\n    selectors: [[\"app-search\"]],\n    viewQuery: function SearchComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchBtnEl = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.responseEl = _t.first);\n      }\n    },\n    decls: 20,\n    vars: 3,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-12\", \"col-sm-12\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\"], [\"src\", \"/assets/imgs/smerch-logo.png\"], [2, \"color\", \"#727D97\", \"font-size\", \"20px\"], [\"role\", \"form\", 3, \"formGroup\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\", 2, \"margin\", \"10px\"], [\"formControlName\", \"contractAddress\", \"type\", \"text\", \"id\", \"\", \"placeholder\", \"\", 1, \"form-control\", 2, \"width\", \"520px\", \"font-size\", \"20px\", \"border-radius\", \"30px\"], [1, \"search-btn\", 3, \"click\"], [\"searchBtnEl\", \"\"], [2, \"width\", \"400px\", \"margin-top\", \"20px\"], [\"response\", \"\"], [\"class\", \"container\", \"style\", \"margin-top: 30px;\", 4, \"ngIf\"], [\"class\", \"container\", \"style\", \"margin-top: 30px; margin-bottom: 30px;\", 4, \"ngIf\"], [1, \"container\", 2, \"margin-top\", \"30px\"], [\"class\", \"col-md-3\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\", 3, \"click\"], [2, \"border-radius\", \"10px\", \"margin\", \"20px 0 20px 0\", \"background-color\", \"#395284\", \"text-align\", \"center\", \"border-bottom\", \"3px solid #ccc\", \"cursor\", \"pointer\", \"height\", \"200px\"], [2, \"height\", \"160px\", \"overflow\", \"hidden\"], [1, \"img-fluid\", 3, \"src\"], [2, \"text-align\", \"center\", \"height\", \"70px\", \"background\", \"#28395C\", \"color\", \"#fff\", \"padding\", \"10px\", \"border-radius\", \"0 0 10px 10px\"], [1, \"badge\", \"text-bg-light\"], [1, \"container\", 2, \"margin-top\", \"30px\", \"margin-bottom\", \"30px\"], [1, \"col-md-4\", 2, \"padding\", \"0\"], [1, \"col-md-8\", 2, \"background\", \"#28395C\", \"color\", \"#858CA0\", \"padding\", \"20px\"], [2, \"color\", \"#fff\", \"font-size\", \"24px\"], [1, \"col-md-12\"], [2, \"background\", \"#1D2842\", \"border-radius\", \"5px\", \"float\", \"left\", \"padding\", \"5px\", \"margin\", \"5px\"], [2, \"text-transform\", \"capitalize\", \"color\", \"#979EB0\", \"font-size\", \"9px\"], [2, \"color\", \"#5B637E\", \"font-size\", \"12px\"], [1, \"price-btn\", 2, \"font-size\", \"14px\", 3, \"click\"], [\"width\", \"20px\", 3, \"src\"]],\n    template: function SearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"p\", 5);\n        i0.ɵɵtext(7, \"Search and explore NFTs contract\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"form\", 6)(9, \"div\", 7);\n        i0.ɵɵelement(10, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 3)(12, \"button\", 9, 10);\n        i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_12_listener() {\n          return ctx.contractAssets();\n        });\n        i0.ɵɵtext(14, \"Search contract\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 3);\n        i0.ɵɵelement(16, \"div\", 11, 12);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(18, SearchComponent_div_18_Template, 3, 1, \"div\", 13);\n        i0.ɵɵtemplate(19, SearchComponent_div_19_Template, 47, 11, \"div\", 14);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.assetsView);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.assetView);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i4.NgIf, i4.NgForOf],\n    pipes: [i4.SlicePipe],\n    styles: [\".search-btn[_ngcontent-%COMP%]{margin-top:20px;background-image:linear-gradient(to right top,#192339,#005785,#0092aa,#00cc8b,#54fd00);border:none;color:#fff;border-radius:20px;padding:20px;font-size:22px}.search-btn[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right top,#1a3163,#0067ab,#009ec1,#00d292,#54fd00)}.price-btn[_ngcontent-%COMP%]{margin-top:20px;background-image:linear-gradient(to right top,#54fd00,#00d292,#009ec1,#0067ab,#1a3163);border:none;color:#fff;border-radius:20px;padding:10px;font-size:22px}\"]\n  });\n  return SearchComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}